<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pousada Nossa Praia</title>
  <meta name="description" content="Pousada Nossa Praia">
  <meta lang="{{lang}}">
  <script type="text/javascript" src="/static/js/lodash.min.js"></script>
  <script type="text/javascript" src="/static/js/jquery.min.js"></script>
  <link rel="stylesheet" href="/static/stylesheets/w3.css">
  <link rel="stylesheet" href="/static/stylesheets/font-awesome-4.6.3.min.css">
  <link rel="stylesheet" href="/static/stylesheets/suisse.css">
</head>

<body style="text-align:center;width:100%;background-color: red">
  <div id="header"></div>
  <div id="content">
    <!-- use <div> instead of <section> for compability -->
    <!-- lazy loading of sections by showContent(id) when needed -->
    <div id="home" class="section section-empty"></div>
    <div id="contact" class="section section-empty"></div>
    <div id="about" class="section section-empty"></div>
    <!-- <i class="fa fa-spinner fa-spin content-spinner"></i> -->
  </div>
  <div id="footer"></div>
  <div id="logo"></div>

  <script>
  $(document).ready(function() {
    $("#header").load("/{{lang}}/header.html", function() {
      $("#footer").load("/{{lang}}/footer.html", function() {
        // showContent("contact");  // loads and displays home section
      })
    })
  })

  var showContent = function(section) {
    // need to load the section ?
    console.log("#" + section + " .section-empty");
    $("#content" + " .section-empty").each(function() {
      $("#content i").remove();
      console.log("LOAD #" + section);
      $("#" + section).load("/pt/"+section+".html", function(responseTxt, statusTxt, xhr) {
        console.log("CB " + statusTxt );
        // $("#content i").css({display:"none"});
        if (statusTxt === "success") $("#" + section).removeClass("section-empty");
        // $("#content .section:visible").hide();  // hide actual visible section
        // $("#" + section).css({display:"block"}); // show this
      })
      return false;  // .each for only one element
    })
    // section has been loaded
    $("#content .section:visible").hide();  // hide actual visible section
    $("#" + section).css({display:"block"}); // show this

    // mark as active in header navbar
    $("#navbar a").removeClass("active");  // clear previous
    $("#navbar a[name="+section+"]").addClass("active");

    // TODO set last update date in footer
  }
  </script>
</body>
</html>
